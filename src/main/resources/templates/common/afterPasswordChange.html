<!DOCTYPE html>
<html xmlns:th ="http://www.thymeleaf.org">
	<head>
		<meta charset ="UTF-8"></meta>
		<meta name ="viewport" content ="width=device-width,initial-scale=1, shrink-to-fit=no">
	     <!--CSS読込-->
	     <link rel ="stylesheet" th:href ="@{/webjars/bootstrap/css/bootstrap.min.css}">
	     <link rel ="stylesheet" th:href ="@{/css/login/login.css}">
	     <!--JS読込-->
	     <script th:src="@{webjars/jquery/jquery.min.js}" defar></script>
	     <script th:src="@{webjars/bootstrap/js/bootstrap.min.js}" defar></script>
	     <title>パスワード変更</title>
</head>
  <body class ="bg-light">
	<div class ="text-center">
			<h2>パスワード変更後</h2>
		<form id="user-detail-form" method="post" th:action="@{/common/afterPasswordChange}" class="form-signup"
			th:object="${passwordChangeForm}">
			<input type="hidden" th:field="*{loginId}" />
			<!--ユーザーID-->
			<div class ="form-group">
				<label for ="loginId" class ="sr-only">loginId</label>
				<div th:text="*{loginId}" />
			</div>
			<!--ユーザ名-->
			<div class ="form-group">
				<label for ="password" class ="sr-only">ユーザー名</label>
				<div th:text="*{userName}" />
			</div>
			<!--新パスワード-->
			<div class ="form-group">
				<label for ="password" class ="sr-only">新パスワード</label>
				<input type ="text" class ="form-control" th:field="*{password}"　/>
			</div>
			<!--新パスワード（確認用）-->
			<div class="form-group">
				<label for="confirm_password" th:text="#{confirmPassword}"></label>
				<input type="text" id="confirm_password" name="confirm_password" class="form-control" required/>
			</div>
			<!--更新処理ボタン-->
			<input type ="submit" value ="変更" class ="btn btn-primary"/>
		</form>
	<script>
    var password = document.getElementById("password")
    var confirm_password = document.getElementById("confirm_password");

    function validatePassword() {
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("パスワードが一致しません");
        } else {
            confirm_password.setCustomValidity('');
        }
    }
    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
    </script>
		
	</div>
  </body>
</html>	
		